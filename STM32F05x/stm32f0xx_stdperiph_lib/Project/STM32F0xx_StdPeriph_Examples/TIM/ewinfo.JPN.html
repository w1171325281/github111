<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
    "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
     xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
     xsi:schemaLocation="http://www.w3.org/MarkUp/SCHEMA/xhtml11.xsd"
     xml:lang="en">
  <head>
    <title>Information Center for ARM</title>
    <meta http-equiv="Content-Type" content="application/xhtml+xml; charset=utf-8" />
    <link type="text/css" rel="stylesheet" media="all" href="file://$TOOLKIT_DIR$/doc/infocenter/style/ewic.css" />
  </head>
  <body>
  <div id="topbanner"></div>
  <div id="titlebanner_small">
    <h2>Information Center for ARM</h2>
  </div>
  <div class="breadcrumb"><a href="$TOOLKIT_DIR$/doc/infocenter/index.JPN.html">Information Center for ARM</a> | EXAMPLES</div>
  <div class="mainblock">
   <h2>Example description</h2>

   <pre>  <!--Insert readme.txt-->
	TIM 6 Steps example

	Example Description 

This example shows how to configure the TIM1 peripheral to generate 6 Steps.
The STM32F0xx TIM1 peripheral offers the possibility to program in advance the 
configuration for the next TIM1 outputs behaviour (step) and change the configuration
of all the channels at the same time. This operation is possible when the COM 
(commutation) event is used.
The COM event can be generated by software by setting the COM bit in the TIM1_EGR
register or by hardware (on TRC rising edge).
In this example, a software COM event is generated each 100 ms: using the SysTick 
interrupt.
The TIM1 is configured in Timing Mode, each time a COM event occurs, a new TIM1
configuration will be set in advance.

The break Polarity is used at High level.

The following Table describes the TIM1 Channels states:
              -----------------------------------------------
             | Step1 | Step2 | Step3 | Step4 | Step5 | Step6 |
   ----------------------------------------------------------
  |Channel1  |   1   |   0   |   0   |   0   |   0   |   1   |
   ----------------------------------------------------------
  |Channel1N |   0   |   0   |   1   |   1   |   0   |   0   |
   ----------------------------------------------------------
  |Channel2  |   0   |   0   |   0   |   1   |   1   |   0   |
   ----------------------------------------------------------
  |Channel2N |   1   |   1   |   0   |   0   |   0   |   0   |
   ----------------------------------------------------------
  |Channel3  |   0   |   1   |   1   |   0   |   0   |   0   |
   ----------------------------------------------------------
  |Channel3N |   0   |   0   |   0   |   0   |   1   |   1   |
   ----------------------------------------------------------
 

	Directory contents 

  - TIM/6Steps/stm32f0xx_conf.h    Library Configuration file
  - TIM/6Steps/stm32f0xx_it.c      Interrupt handlers
  - TIM/6Steps/stm32f0xx_it.h      Interrupt handlers header file
  - TIM/6Steps/main.c              Main program
  - TIM/6Steps/system_stm32f0xx.c  STM32F0xx system source file
  
 note The "system_stm32f0xx.c" is generated by an automatic clock configuration 
      tool and can be easily customized to meet user application requirements. 
      To select different clock setup, use the "STM32F0xx_Clock_Configuration_VX.Y.Z.xls" 
      provided with the AN4055 package available on <a href="http://www.st.com/internet/mcu/class/1734.jsp">  ST Microcontrollers </a>

         
	Hardware and Software environment

  - This example runs on STM32F0xx Devices.
  
  - This example has been tested with STM32F0-Discovery board and can be easily 
    tailored to any other supported device and development board.

  - STM32F0-Discovery board Set-up
    - Connect the TIM1 pins to an oscilloscope to monitor the different waveforms:
      - TIM1_CH3  pin (PA.10)
      - TIM1_CH1N pin (PA.07)  
      - TIM1_CH2  pin (PA.09)  
      - TIM1_CH3N pin (PB.01)
      - TIM1_CH1  pin (PA.08)  
      - TIM1_CH2N pin (PB.00)    
    - Connect the TIM1 break pin TIM1_BKIN pin (PB.12) to the GND. To generate a 
      break event, switch this pin level from 0V to 3.3V. 


	How to use it ? 

In order to make the program work, you must do the following :
 - Copy all source files from this example folder to the template folder under
   Project\STM32F0xx_StdPeriph_Templates
 - Open your preferred toolchain 
 - Rebuild all files and load your image into target memory
 - Run the example

***********************************************************************************
	
	TIM 7 PWM Outputs
	
	Example Description 

This example shows how to configure the TIM1 peripheral to generate 7 PWM signals 
with 4 different duty cycles (50%, 37.5%, 25% and 12.5%).

TIM1CLK = SystemCoreClock, Prescaler = 0, TIM1 counter clock = SystemCoreClock
SystemCoreClock is set to 48 MHz for STM32F0xx devices.

The objective is to generate 7 PWM signal at 17.57 KHz:
  - TIM1_Period = (SystemCoreClock / 17570) - 1
The channel 1 and channel 1N duty cycle is set to 50%
The channel 2 and channel 2N duty cycle is set to 37.5%
The channel 3 and channel 3N duty cycle is set to 25%
The channel 4 duty cycle is set to 12.5%
The Timer pulse is calculated as follows:
  - ChannelxPulse = DutyCycle * (TIM1_Period - 1) / 100

The TIM1 waveform can be displayed using an oscilloscope.


	Directory contents 

  - TIM/7_PWMOutputs/stm32f0xx_conf.h    Library Configuration file
  - TIM/7_PWMOutputs/stm32f0xx_it.c      Interrupt handlers
  - TIM/7_PWMOutputs/stm32f0xx_it.h      Interrupt handlers header file
  - TIM/7_PWMOutputs/main.c              Main program
  - TIM/7_PWMOutputs/system_stm32f0xx.c  STM32F0xx system source file
  
 note The "system_stm32f0xx.c" is generated by an automatic clock configuration 
      tool and can be easily customized to meet user application requirements. 
      To select different clock setup, use the "STM32F0xx_Clock_Configuration_VX.Y.Z.xls" 
      provided with the AN4055 package available on <a href="http://www.st.com/internet/mcu/class/1734.jsp">  ST Microcontrollers </a>

         
	Hardware and Software environment

  - This example runs on STM32F0xx Devices.
  
  - This example has been tested with STM32F0-Discovery board and can be easily 
    tailored to any other supported device and development board.

  - STM32F0-Discovery Set-up
    - Connect the TIM1 pins to an oscilloscope to monitor the different waveforms:
      - TIM1_CH1  pin (PA.08)
      - TIM1_CH1N pin (PA.07)
      - TIM1_CH2  pin (PA.09)
      - TIM1_CH2N pin (PB.00)
      - TIM1_CH3  pin (PA.10)
      - TIM1_CH3N pin (PB.01)
      - TIM1_CH4  pin (PA.11)


	How to use it ? 

In order to make the program work, you must do the following :
 - Copy all source files from this example folder to the template folder under
   Project\STM32F0xx_StdPeriph_Templates
 - Open your preferred toolchain 
 - Rebuild all files and load your image into target memory
 - Run the example
	
***********************************************************************************

	TIM Complementary Signals example
	
	Example Description 

This example shows how to configure the TIM1 peripheral to generate three 
complementary TIM1 signals, to insert a defined dead time value, to use the break 
feature and to lock the desired parameters.

TIM1CLK is fixed to SystemCoreClock, the TIM1 Prescaler is equal to 0 so the 
TIM1 counter clock used is SystemCoreClock (48MHz).

The objective is to generate PWM signal at 17.57 KHz:
  - TIM1_Period = (SystemCoreClock / 17570) - 1

The Three Duty cycles are computed as the following description: 
The channel 1 duty cycle is set to 50% so channel 1N is set to 50%.
The channel 2 duty cycle is set to 25% so channel 2N is set to 75%.
The channel 3 duty cycle is set to 12.5% so channel 3N is set to 87.5%.
The Timer pulse is calculated as follows:
  - ChannelxPulse = DutyCycle * (TIM1_Period - 1) / 100

A dead time equal to 11/SystemCoreClock is inserted between the different 
complementary signals, and the Lock level 1 is selected.
The break Polarity is used at High level.

The TIM1 waveform can be displayed using an oscilloscope.
 

	Directory contents 

  - TIM/Complementary_Signals/stm32f0xx_conf.h    Library Configuration file
  - TIM/Complementary_Signals/stm32f0xx_it.c      Interrupt handlers
  - TIM/Complementary_Signals/stm32f0xx_it.h      Interrupt handlers header file
  - TIM/Complementary_Signals/main.c              Main program
  - TIM/Complementary_Signals/system_stm32f0xx.c  STM32F0xx system source file
  
 note The "system_stm32f0xx.c" is generated by an automatic clock configuration 
      tool and can be easily customized to meet user application requirements. 
      To select different clock setup, use the "STM32F0xx_Clock_Configuration_VX.Y.Z.xls" 
      provided with the AN4055 package available on <a href="http://www.st.com/internet/mcu/class/1734.jsp">  ST Microcontrollers </a>

         
	Hardware and Software environment

  - This example runs on STM32F0xx Devices.
  
  - This example has been tested with STM32F0-Discovery board and can be easily 
    tailored to any other supported device and development board.

  - STM32F0-Discovery Set-up
    - Connect the TIM1 pins to an oscilloscope to monitor the different waveforms:
      - TIM1_CH1  pin (PA.08)  
      - TIM1_CH1N pin (PA.07)  
      - TIM1_CH2  pin (PA.09)  
      - TIM1_CH2N pin (PB.00)  
      - TIM1_CH3  pin (PA.10)  
      - TIM1_CH3N pin (PB.01)

    - Connect the TIM1 break pin TIM1_BKIN pin (PB.12) to the GND. To generate a 
      break event, switch this pin level from 0V to 3.3V.


	How to use it ? 

In order to make the program work, you must do the following :
 - Copy all source files from this example folder to the template folder under
   Project\STM32F0xx_StdPeriph_Templates
 - Open your preferred toolchain 
 - Rebuild all files and load your image into target memory
 - Run the example
	
***********************************************************************************

	TIM DMA Burst transfer example
	
	Example Description 

This example shows how to update the TIM1 channel1 period and the duty cycle 
using the TIM DMA burst feature.

Every update DMA request, the DMA will do 3 transfers of half words into Timer 
registers beginning from ARR register.
On the DMA update request, 0x0FFF will be transferred into ARR, 0x0000 
will be transferred into RCR, 0x0555 will be transferred into CCR1. 

The TIM1CLK frequency is set to SystemCoreClock (Hz), to get TIM1 counter
clock at 24 MHz the Prescaler is computed as following:
   - Prescaler = (TIM1CLK / TIM1 counter clock) - 1

SystemCoreClock is set to 48 MHz.

The TIM1 period is 5.8 KHz: TIM1 Frequency = TIM1 counter clock/(ARR + 1)
                                           = 24 MHz / 4096 = 5.8 KHz

The TIM1 CCR1 register value is equal to 0x555, so the TIM1 Channel 1 generates a 
PWM signal with a frequency equal to 5.8 KHz and a duty cycle equal to 33.33%:
TIM1 Channel1 duty cycle = (TIM1_CCR1/ TIM1_ARR + 1)* 100 = 33.33%

The PWM waveform can be displayed using an oscilloscope.
 

	Directory contents 

  - TIM/DMA_Burst/stm32f0xx_conf.h    Library Configuration file
  - TIM/DMA_Burst/stm32f0xx_it.c      Interrupt handlers
  - TIM/DMA_Burst/stm32f0xx_it.h      Interrupt handlers header file
  - TIM/DMA_Burst/main.c              Main program
  - TIM/DMA_Burst/system_stm32f0xx.c  STM32F0xx system source file
  
 note The "system_stm32f0xx.c" is generated by an automatic clock configuration 
      tool and can be easily customized to meet user application requirements. 
      To select different clock setup, use the "STM32F0xx_Clock_Configuration_VX.Y.Z.xls" 
      provided with the AN4055 package available on <a href="http://www.st.com/internet/mcu/class/1734.jsp">  ST Microcontrollers </a>
         
	Hardware and Software environment

  - This example runs on STM32F0xx Devices.
  
  - This example has been tested with STMicroelectronics STM320518-EVAL (STM32F0xx)
    evaluation board and can be easily tailored to any other supported device 
    and development board.

  - STM320518-EVAL Set-up
    - Connect the following pins to an oscilloscope to monitor the different 
      waveforms:  
        - TIM1 CH1  (PA.08)

	How to use it ? 

In order to make the program work, you must do the following :
 - Copy all source files from this example folder to the template folder under
   Project\STM32F0xx_StdPeriph_Templates
 - Open your preferred toolchain 
 - Rebuild all files and load your image into target memory
 - Run the example
	
***********************************************************************************

	TIM Encoder mode Description
	
	Example Description 

This example shows how to configure the TIM peripheral to interface with a encoder sensor.
The TIM3 is configured in encoder mode1: Counter counts up/down on TI2 rising edge 
depending on TI1 level 

The TIM3 Autoreload value is set to 399, so the encoder round is 400 TIM counter clock. 
An update interrupt is generated each time the TIM counter reach the Autoreload value, 
in this example 400 TIM counter clock.
 

	Directory contents 

  - TIM/TIM_Encoder_Mode/stm32f0xx_conf.h    Library Configuration file
  - TIM/TIM_Encoder_Mode/stm32f0xx_it.c      Interrupt handlers
  - TIM/TIM_Encoder_Mode/stm32f0xx_it.h      Interrupt handlers header file
  - TIM/TIM_Encoder_Mode/main.c              Main program
  - TIM/TIM_Encoder_Mode/system_stm32f0xx.c  STM32F0xx system source file
  
 note The "system_stm32f0xx.c" is generated by an automatic clock configuration 
      tool and can be easily customized to meet user application requirements. 
      To select different clock setup, use the "STM32F0xx_Clock_Configuration_VX.Y.Z.xls" 
      provided with the AN4055 package available on <a href="http://www.st.com/internet/mcu/class/1734.jsp">  ST Microcontrollers </a>
         
	Hardware and Software environment

  - This example runs on STM32F0xx Devices.
  
  - This example has been tested with STMicroelectronics STM320518-EVAL (STM32F0xx)
    evaluation board and can be easily tailored to any other supported device 
    and development board.

	How to use it ? 

In order to make the program work, you must do the following :
 - Copy all source files from this example folder to the template folder under
   Project\STM32F0xx_StdPeriph_Templates
 - Open your preferred toolchain 
 - Rebuild all files and load your image into target memory
 - Run the example
	
***********************************************************************************

	TIM Input Capture example

	Example Description 

This example shows how to use the TIM peripheral to measure the frequency of an 
external signal.

The TIM1 clock frequency is set to SystemCoreClock (Hz), the Prescaler is 0 so the 
TIM1 counter clock is SystemCoreClock (Hz).

SystemCoreClock is set to 48 MHz.

TIM1 is configured in Input Capture Mode: the external signal is connected to 
TIM1 Channel2 used as input pin.
To measure the frequency we use the TIM1 CC2 interrupt request,
so In the TIM1_CC_IRQHandler routine, the frequency of the external signal is computed. 
The "TIM1Freq" variable contains the external signal frequency:
TIM1Freq = TIM1 counter clock / Capture in Hz,
where the Capture is the difference between two consecutive TIM1 captures. 

The minimum frequency value to measure is 1100 Hz.
 

	Directory contents 

  - TIM/Input_Capture/stm32f0xx_conf.h    Library Configuration file
  - TIM/Input_Capture/stm32f0xx_it.c      Interrupt handlers
  - TIM/Input_Capture/stm32f0xx_it.h      Interrupt handlers header file
  - TIM/Input_Capture/main.c              Main program
  - TIM/Input_Capture/system_stm32f0xx.c  STM32F0xx system source file
  
 note The "system_stm32f0xx.c" is generated by an automatic clock configuration 
      tool and can be easily customized to meet user application requirements. 
      To select different clock setup, use the "STM32F0xx_Clock_Configuration_VX.Y.Z.xls" 
      provided with the AN4055 package available on <a href="http://www.st.com/internet/mcu/class/1734.jsp">  ST Microcontrollers </a>
         
	Hardware and Software environment

  - This example runs on STM32F0xx Devices.
  
  - This example has been tested with STMicroelectronics STM320518-EVAL (STM32F0xx)
    evaluation board and can be easily tailored to any other supported device 
    and development board.

  - STM320518-EVAL Set-up
    - Connect the external signal to measure to the TIM1 CH2 pin (PA.09).

	How to use it ? 

In order to make the program work, you must do the following :
 - Copy all source files from this example folder to the template folder under
   Project\STM32F0xx_StdPeriph_Templates
 - Open your preferred toolchain 
 - Rebuild all files and load your image into target memory
 - Run the example
	
***********************************************************************************
	
	TIM OC Active example
	
	Example Description 

This example shows how to configure the TIM peripheral to generate four different 
signals with four different delays.

The TIM3CLK frequency is set to SystemCoreClock (Hz), and the objective is
to get TIM3 counter clock at 1 KHz so the Prescaler is computed as following:
   - Prescaler = (TIM3CLK / TIM3 counter clock) - 1
   
SystemCoreClock is set to 48 MHz for STM32F0xx Devices.

The TIM3 CCR1 register value is equal to 1000:
TIM3_CH1 delay = CCR1_Val/TIM3 counter clock  = 1000 ms
so the TIM3 Channel 1 generates a signal with a delay equal to 1000 ms.

The TIM3 CCR2 register value is equal to 500:
TIM3_CH2 delay = CCR2_Val/TIM3 counter clock = 500 ms
so the TIM3 Channel 2 generates a signal with a delay equal to 500 ms.

The TIM3 CCR3 register value is equal to 250:
TIM3_CH3 delay = CCR3_Val/TIM3 counter clock = 250 ms
so the TIM3 Channel 3 generates a signal with a delay equal to 250 ms.

The TIM3 CCR4 register value is equal to 125:
TIM3_CH4 delay = CCR4_Val/TIM3 counter clock = 125 ms
so the TIM3 Channel 4 generates a signal with a delay equal to 125 ms.

The delay correspond to the time difference between PG.06 and  TIM3_CHx signal
rising edges.
 

	Directory contents 

  - TIM/OC_Active/stm32f0xx_conf.h    Library Configuration file
  - TIM/OC_Active/stm32f0xx_it.c      Interrupt handlers
  - TIM/OC_Active/stm32f0xx_it.h      Interrupt handlers header file
  - TIM/OC_Active/main.c              Main program
  - TIM/OC_Active/system_stm32f0xx.c  STM32F0xx system source file
  
 note The "system_stm32f0xx.c" is generated by an automatic clock configuration 
      tool and can be easily customized to meet user application requirements. 
      To select different clock setup, use the "STM32F0xx_Clock_Configuration_VX.Y.Z.xls" 
      provided with the AN4055 package available on <a href="http://www.st.com/internet/mcu/class/1734.jsp">  ST Microcontrollers </a>
         
	Hardware and Software environment

  - This example runs on STM32F0xx Devices.
  
  - This example has been tested with STMicroelectronics STM320518-EVAL (STM32F0xx)
    evaluation board and can be easily tailored to any other supported device 
    and development board.

  - STM320518-EVAL Set-up
    - Connect the following pins to an oscilloscope to monitor the different 
      waveforms:
       - Use LED1 connected to PC.10
       - PA.06 (TIM3_CH1)
       - PA.07 (TIM3_CH2)
       - PB.00 (TIM3_CH3)
       - PB.01 (TIM3_CH4)

	How to use it ? 

In order to make the program work, you must do the following :
 - Copy all source files from this example folder to the template folder under
   Project\STM32F0xx_StdPeriph_Templates
 - Open your preferred toolchain 
 - Rebuild all files and load your image into target memory
 - Run the example
	
***********************************************************************************

	TIM OC_Toggle Description
	
	Example Description 

This example shows how to configure the TIM3 peripheral to generate four different 
signals with four different frequencies.

The TIM3CLK frequency is set to 48 MHz

The TIM3 CCR1 register value is equal to 40961: 
CC1 update rate = TIM3 counter clock / CCR1_Val = 1171.8Hz,
so the TIM3 Channel 1 generates a periodic signal with a frequency equal to 585.9Hz.

The TIM3 CCR2 register is equal to 20480:
CC2 update rate = TIM3 counter clock / CCR2_Val = 2343.75Hz
so the TIM3 channel 2 generates a periodic signal with a frequency equal to 1171.8Hz.

The TIM3 CCR3 register is equal to 10240:
CC3 update rate = TIM3 counter clock / CCR3_Val = 4687.5Hz
so the TIM3 channel 3 generates a periodic signal with a frequency equal to 2343.75Hz.

The TIM3 CCR4 register is equal to 5120:
CC4 update rate = TIM3 counter clock / CCR4_Val =  9375Hz
so the TIM3 channel 4 generates a periodic signal with a frequency equal to 4687.5Hz.
 

	Directory contents 

  - TIM/OC_Toggle/stm32f0xx_conf.h    Library Configuration file
  - TIM/OC_Toggle/stm32f0xx_it.c      Interrupt handlers
  - TIM/OC_Toggle/stm32f0xx_it.h      Interrupt handlers header file
  - TIM/OC_Toggle/main.c              Main program
  - TIM/OC_Toggle/system_stm32f0xx.c  STM32F0xx system source file
  
 note The "system_stm32f0xx.c" is generated by an automatic clock configuration 
      tool and can be easily customized to meet user application requirements. 
      To select different clock setup, use the "STM32F0xx_Clock_Configuration_VX.Y.Z.xls" 
      provided with the AN4055 package available on <a href="http://www.st.com/internet/mcu/class/1734.jsp">  ST Microcontrollers </a>
         
	Hardware and Software environment

  - This example runs on STM32F0xx Devices.
  
  - This example has been tested with STMicroelectronics STM320518-EVAL (STM32F0xx)
    evaluation board and can be easily tailored to any other supported device 
    and development board.

  - STM320518-EVAL Set-up
    - Connect the following pins to an oscilloscope to monitor the different 
      waveforms:
       - PA.06 (TIM3_CH1)
       - PA.07 (TIM3_CH2)
       - PB.00 (TIM3_CH3)
       - PB.01 (TIM3_CH4)


	How to use it ? 

In order to make the program work, you must do the following :
 - Copy all source files from this example folder to the template folder under
   Project\STM32F0xx_StdPeriph_Templates
 - Open your preferred toolchain 
 - Rebuild all files and load your image into target memory
 - Run the example

***********************************************************************************

	TIM One Pulse example
	
	Example Description 

This example shows how to use the TIM peripheral to generate a One pulse Mode 
after a Rising edge of an external signal is received in Timer Input pin.

TIM2CLK = SystemCoreClock, we want to get TIM2 counter clock at 24 MHz:
  - Prescaler = (TIM2CLK / TIM2 counter clock) - 1

SystemCoreClock is set to 48 MHz.

The Autoreload value is 65535 (TIM2->ARR), so the maximum frequency value to 
trigger the TIM2 input is 24000000/65535 = 366.2 Hz.

The TIM2 is configured as follows: 
The One Pulse mode is used, the external signal is connected to TIM2 CH2 pin (PA.01), 
the rising edge is used as active edge, the One Pulse signal is output 
on TIM2_CH1 (PA.05).

The TIM_Pulse defines the delay value, the delay value is fixed to:
delay =  CCR1/TIM2 counter clock = 16383 / 24000000 = 682.6 us. 
The (TIM_Period - TIM_Pulse) defines the One Pulse value, the pulse value is fixed to:
One Pulse value = (TIM_Period - TIM_Pulse)/TIM2 counter clock 
                = (65535 - 16383) / 24000000 = 2.04 ms.
 

	Directory contents 

  - TIM/One_Pulse/stm32f0xx_conf.h    Library Configuration file
  - TIM/One_Pulse/stm32f0xx_it.c      Interrupt handlers
  - TIM/One_Pulse/stm32f0xx_it.h      Interrupt handlers header file
  - TIM/One_Pulse/main.c              Main program
  - TIM/One_Pulse/system_stm32f0xx.c  STM32F0xx system source file
  
 note The "system_stm32f0xx.c" is generated by an automatic clock configuration 
      tool and can be easily customized to meet user application requirements. 
      To select different clock setup, use the "STM32F0xx_Clock_Configuration_VX.Y.Z.xls" 
      provided with the AN4055 package available on <a href="http://www.st.com/internet/mcu/class/1734.jsp">  ST Microcontrollers </a>

         
	Hardware and Software environment

  - This example runs on STM32F0xx Devices.
  
  - This example has been tested with STMicroelectronics STM320518-EVAL (STM32F0xx)
    evaluation board and can be easily tailored to any other supported device 
    and development board.

  - STM320518-EVAL Set-up
    - Connect the external signal to the TIM2_CH2 pin (PA.01)
    - Connect the TIM2_CH1 (PA.05) pin to an oscilloscope to monitor the waveform.


	How to use it ? 

In order to make the program work, you must do the following :
 - Copy all source files from this example folder to the template folder under
   Project\STM32F0xx_StdPeriph_Templates
 - Open your preferred toolchain 
 - Rebuild all files and load your image into target memory
 - Run the example

	
***********************************************************************************

	TIM PWM Input
	
	Example Description 

This example shows how to use the TIM peripheral to measure the frequency and 
duty cycle of an external signal.

The TIM2 Clock frequency is set to SystemCoreClock(Hz), the Prescaler is 0 so the 
counter clock is SystemCoreClock(Hz).
SystemCoreClock is set to 48 MHz in this example.

TIM2 is configured in PWM Input Mode: the external signal is connected to 
TIM2 Channel2 used as input pin.

To measure the frequency and the duty cycle we use the TIM2 CC2 interrupt request,
so In the TIM2_IRQHandler routine, the frequency and the duty cycle of the external 
signal are computed. 

The "Frequency" variable contains the external signal frequency:
  TIM2 counter clock = SystemCoreClock
  Frequency = TIM2 counter clock / TIM2_CCR2 in Hz 

The "DutyCycle" variable contains the external signal duty cycle:
   DutyCycle = (TIM2_CCR1*100)/(TIM2_CCR2) in %.

The minimum frequency value to measure is 733 Hz (TIM2 counter clock / CCR MAX). 
 

	Directory contents 

  - TIM/PWM_Input/stm32f0xx_conf.h    Library Configuration file
  - TIM/PWM_Input/stm32f0xx_it.c      Interrupt handlers
  - TIM/PWM_Input/stm32f0xx_it.h      Interrupt handlers header file
  - TIM/PWM_Input/main.c              Main program
  - TIM/PWM_Input/system_stm32f0xx.c  STM32F0xx system source file
  
 note The "system_stm32f0xx.c" is generated by an automatic clock configuration 
      tool and can be easily customized to meet user application requirements. 
      To select different clock setup, use the "STM32F0xx_Clock_Configuration_VX.Y.Z.xls" 
      provided with the AN4055 package available on <a href="http://www.st.com/internet/mcu/class/1734.jsp">  ST Microcontrollers </a>
         
	Hardware and Software environment

  - This example runs on STM32F0xx Devices.
  
  - This example has been tested with STMicroelectronics STM320518-EVAL (STM32F0xx)
    evaluation board and can be easily tailored to any other supported device 
    and development board.

  - STM320518-EVAL Set-up
    - Connect the external signal to measure to the TIM2 CH2 pin (PA.01).


	How to use it ? 

In order to make the program work, you must do the following :
 - Copy all source files from this example folder to the template folder under
   Project\STM32F0xx_StdPeriph_Templates
 - Open your preferred toolchain 
 - Rebuild all files and load your image into target memory
 - Run the example

***********************************************************************************

	TIM Synchronization mode example
	
	Example Description 

This example shows how to synchronize TIM peripherals in cascade mode, two timers
TIM2 and TIM3 are used.

Timers synchronisation in cascade mode:

 - TIM2 is configured as Master Timer:
     - PWM Mode is used
     - The TIM2 Update event is used as Trigger Output

 - TIM3 is slave for TIM2
     - PWM Mode is used
     - The ITR1(TIM2) is used as input trigger 
     - Gated mode is used, so start and stop of slave counter are controlled by
       the Master trigger output signal(TIM2 update event).

The TIM2 counter clock is 48 MHz.

  The TIM2 is running at:
  TIM2 frequency = (TIM2 counter clock)/ (TIM2 period + 1) = 187.5 KHz 
  and the duty cycle = TIM2_CCR1/(TIM2_ARR + 1) = 25%.

  The slave Timer TIM3 is running at TIM2 clock:
  (TIM2 frequency)/ (TIM3 period + 1) = 46.87 KHz and a duty cycle equal 
  to TIM3_CCR1/(TIM3_ARR + 1) = 25%



	Directory contents 

  - TIM/Synchronization_Mode/stm32f0xx_conf.h    Library Configuration file
  - TIM/Synchronization_Mode/stm32f0xx_it.c      Interrupt handlers
  - TIM/Synchronization_Mode/stm32f0xx_it.h      Interrupt handlers header file
  - TIM/Synchronization_Mode/main.c              Main program
  - TIM/Synchronization_Mode/system_stm32f0xx.c  STM32F0xx system source file
  
 note The "system_stm32f0xx.c" is generated by an automatic clock configuration 
      tool and can be easily customized to meet user application requirements. 
      To select different clock setup, use the "STM32F0xx_Clock_Configuration_VX.Y.Z.xls" 
      provided with the AN4055 package available on <a href="http://www.st.com/internet/mcu/class/1734.jsp">  ST Microcontrollers </a>

         
	Hardware and Software environment

  - This example runs on STM32F0xx Devices.
  
  - This example has been tested with STMicroelectronics STM320518-EVAL (STM32F0xx)
    evaluation board and can be easily tailored to any other supported device 
    and development board.

  - STM320518-EVAL Set-up
     - Connect the following pins to an oscilloscope to monitor the different 
      waveforms:
        - TIM2 CH1 (PA.05) 
        - TIM3 CH1 (PB.04)


	How to use it ? 

In order to make the program work, you must do the following :
 - Copy all source files from this example folder to the template folder under
   Project\STM32F0xx_StdPeriph_Templates
 - Open your preferred toolchain 
 - Rebuild all files and load your image into target memory
 - Run the example
	
***********************************************************************************

	TIM ADC Trigger Example

	Example Description 

This example describes how to configure the TIM to trigger the ADC conversion.

In this example the TIM1 is configured in PWM mode, the TIM1 CC4 event is used
to trigger the ADC.

The ADC is configured to convert continuously the ADC_Channel_11 (connected to
potentiometer RV3 on the EVAL Board).
Each time the TIM1 CC4 event occurs, the ADC convert the variable voltage. 
 
User can display continuously the ADC_Channel_11 voltage on the EVAL Board LCD 


	Directory contents 

  - TIM/TIM_ADC_Trigger/stm32f0xx_conf.h    Library Configuration file
  - TIM/TIM_ADC_Trigger/stm32f0xx_it.c      Interrupt handlers
  - TIM/TIM_ADC_Trigger/stm32f0xx_it.h      Interrupt handlers header file
  - TIM/TIM_ADC_Trigger/main.c              Main program
  - TIM/TIM_ADC_Trigger/system_stm32f0xx.c  STM32F0xx system source file
  
 note The "system_stm32f0xx.c" is generated by an automatic clock configuration 
      tool and can be easily customized to meet user application requirements. 
      To select different clock setup, use the "STM32F0xx_Clock_Configuration_VX.Y.Z.xls" 
      provided with the AN4055 package available on <a href="http://www.st.com/internet/mcu/class/1734.jsp">  ST Microcontrollers </a>

         
	Hardware and Software environment

  - This example runs on STM32F0xx Devices.
  
  - This example has been tested with STMicroelectronics STM320518-EVAL (STM32F0xx)
    evaluation board and can be easily tailored to any other supported device 
    and development board.

 - STM320518-EVAL Set-up
    - Use the potentiometer RV3 to change the ADC_Channel_11 voltage.


	How to use it ? 

In order to make the program work, you must do the following :
 - Copy all source files from this example folder to the template folder under
   Project\STM32F0xx_StdPeriph_Templates
 - Open your preferred toolchain 
 - Rebuild all files and load your image into target memory
 - Run the example

***********************************************************************************

	TIM Time Base Description

	Example Description 

This example shows how to configure the TIM peripheral in Output Compare Timing 
mode with the corresponding Interrupt requests for each channel in order to generate
4 different time bases.

The TIM3CLK frequency is set to SystemCoreClock (Hz), to get TIM3 counter 
clock at 6 MHz so the Prescaler is computed as following:
   - Prescaler = (TIM3CLK / TIM3 counter clock) - 1

SystemCoreClock is set to 48MHz.

The TIM3 CC1 register value is equal to 40961, 
CC1 update rate = TIM3 counter clock / CCR1_Val = 146.48 Hz,
so the TIM3 Channel 1 generates an interrupt each 6.8ms

The TIM3 CC2 register is equal to 27309, 
CC2 update rate = TIM3 counter clock / CCR2_Val = 219.7 Hz
so the TIM3 Channel 2 generates an interrupt each 4.55ms

The TIM3 CC3 register is equal to 13654, 
CC3 update rate = TIM3 counter clock / CCR3_Val = 439.4Hz
so the TIM3 Channel 3 generates an interrupt each 2.27ms

The TIM3 CC4 register is equal to 6826, 
CC4 update rate = TIM3 counter clock / CCR4_Val =  878.9 Hz
so the TIM3 Channel 4 generates an interrupt each 1.13ms.

When the counter value reaches the Output compare registers values, the Output 
Compare interrupts are generated and, in the handler routine, 4 leds (LED1, LED2, 
LED3 and LED4) are toggled with the following frequencies: 

- LED1: 73.24Hz (CC1)
- LED2: 109.8Hz (CC2)
- LED3: 219.7Hz (CC3) 
- LED4: 439.4Hz (CC4)
 

	Directory contents 

  - TIM/Time_Base/stm32f0xx_conf.h    Library Configuration file
  - TIM/Time_Base/stm32f0xx_it.c      Interrupt handlers
  - TIM/Time_Base/stm32f0xx_it.h      Interrupt handlers header file
  - TIM/Time_Base/main.c              Main program
  - TIM/Time_Base/system_stm32f0xx.c  STM32F0xx system source file
  
 note The "system_stm32f0xx.c" is generated by an automatic clock configuration 
      tool and can be easily customized to meet user application requirements. 
      To select different clock setup, use the "STM32F0xx_Clock_Configuration_VX.Y.Z.xls" 
      provided with the AN4055 package available on <a href="http://www.st.com/internet/mcu/class/1734.jsp">  ST Microcontrollers </a>

         
	Hardware and Software environment

  - This example runs on STM32F0xx Devices.
  
  - This example has been tested with STMicroelectronics STM320518-EVAL (STM32F0xx)
    evaluation board and can be easily tailored to any other supported device 
    and development board.

  - STM320518-EVAL Set-up
    -  Use LED1, LED2, LED3 and LED4 connected respectively to PC.10, PC.11, PC.12
      and PD.02 pins and connect them on an oscilloscope to show the different 
      Time Base signals.


	How to use it ? 

In order to make the program work, you must do the following :
 - Copy all source files from this example folder to the template folder under
   Project\STM32F0xx_StdPeriph_Templates
 - Open your preferred toolchain 
 - Rebuild all files and load your image into target memory
 - Run the example

   </pre>
  </div>
  </body>
</html>

