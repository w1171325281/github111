<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
    "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
     xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
     xsi:schemaLocation="http://www.w3.org/MarkUp/SCHEMA/xhtml11.xsd"
     xml:lang="en">
  <head>
    <title>Information Center for ARM</title>
    <meta http-equiv="Content-Type" content="application/xhtml+xml; charset=utf-8" />
    <link type="text/css" rel="stylesheet" media="all" href="file://$TOOLKIT_DIR$/doc/infocenter/style/ewic.css" />
  </head>
  <body>
  <div id="topbanner"></div>
  <div id="titlebanner_small">
    <h2>Information Center for ARM</h2>
  </div>
  <div class="breadcrumb"><a href="$TOOLKIT_DIR$/doc/infocenter/index.ENU.html">Information Center for ARM</a> | EXAMPLES</div>
  <div class="mainblock">
   <h2>Example description</h2>

   <pre>  <!--Insert readme.txt-->
	COMP Analog Watchdog example

	Example Description 

This example shows how to make an analog watchdog using the STM32F0xx COMPs 
peripherals in window mode:
  - The upper threshold is set to VREFINT = 1.22V
  - The lower threshold is set to VREFINT / 4 = 1.22V = 0.305V
  - The input voltage is configured to be connected to PA.01 (On STM320518-EVAL 
    RV3 (PC.01) is used to simulate an input voltage)

If the input voltage is above the higher threshold, LD3 and LD1 are turned On.
If the input voltage is under the lower threshold, LD2 and LD4 are turned On.
If the input voltage is within the thresholds, the MCU remains in STOP mode

	Directory contents 

  - COMP/COMP_AnalogWatchdog/stm32f0xx_conf.h    Library Configuration file
  - COMP/COMP_AnalogWatchdog/stm32f0xx_it.c      Interrupt handlers
  - COMP/COMP_AnalogWatchdog/stm32f0xx_it.h      Interrupt handlers header file
  - COMP/COMP_AnalogWatchdog/main.c              Main program
  - COMP/COMP_AnalogWatchdog/main.h              Main Header file
  - COMP/COMP_AnalogWatchdog/system_stm32f0xx.c  STM32F0xx system source file
  
 note The "system_stm32f0xx.c" is generated by an automatic clock configuration 
      tool and can be easily customized to meet user application requirements. 
      To select different clock setup, use the "STM32F0xx_Clock_Configuration_VX.Y.Z.xls" 
      provided with the AN4055 package available on <a href="http://www.st.com/internet/mcu/class/1734.jsp">  ST Microcontrollers </a>
         
	Hardware and Software environment

  - This example runs on STM32F0xx Devices.
  
  - This example has been tested with STMicroelectronics STM320518-EVAL (STM32F0xx)
    evaluation board and can be easily tailored to any other supported device 
    and development board.

  - STM320518-EVAL Set-up
    - Use LED1, LED2, LED3 and LED4 connected respectively to PC.10, PC.11 ,PG.12
      and PD.02 pins
   note: This example run in stand alone mode.
    - Use a wire to connect Potentiometer RV3 (PC.01 pin) to COMP2 non inverting input (PA.01)


	How to use it ? 

In order to make the program work, you must do the following :
 - Copy all source files from this example folder to the template folder under
   Project\STM32F0xx_StdPeriph_Templates
 - Open your preferred toolchain 
 - Rebuild all files and load your image into target memory
 - Run the example

***********************************************************************************

	Comparator With LDR example

	Example Description 

The STM32F0xx microcontroller has an embedded comparator which can be used
in combination with DAC peripheral for more application like the measure of light
intensity (using the LDR sensor).

In this example when the luminosity changes the progress bar displayed on the color
LCD changes according to light intensity level detected on comparator.


	Directory contents 

  - COMP/COMP_LDR/stm32f0xx_conf.h    Library Configuration file
  - COMP/COMP_LDR/stm32f0xx_it.c      Interrupt handlers
  - COMP/COMP_LDR/stm32f0xx_it.h      Interrupt handlers header file
  - COMP/COMP_LDR/main.c              Main program
  - COMP/COMP_LDR/system_stm32f0xx.c  STM32F0xx system source file
  
 note The "system_stm32f0xx.c" is generated by an automatic clock configuration 
      tool and can be easily customized to meet user application requirements. 
      To select different clock setup, use the "STM32F0xx_Clock_Configuration_VX.Y.Z.xls" 
      provided with the AN4055 package available on <a href="http://www.st.com/internet/mcu/class/1734.jsp">  ST Microcontrollers </a>

         
	Hardware and Software environment

  - This example runs on STM32F0xx Devices.
  
  - This example has been tested with STMicroelectronics STM320518-EVAL (STM32F0xx)
    evaluation board and can be easily tailored to any other supported device 
    and development board.

  - STM320518-EVAL Set-up
    - Make sure that jumper JP13 is not fitted to avoid noise from the speaker.


	How to use it ? 

In order to make the program work, you must do the following :
 - Copy all source files from this example folder to the template folder under
   Project\STM32F0xx_StdPeriph_Templates
 - Open your preferred toolchain 
 - Rebuild all files and load your image into target memory
 - Run the example

***********************************************************************************
	
	COMP2 Pulse width measurement example

	Example Description 

This example shows how to configure the COMP2 peripheral to measure pulse width.
  This method (measuring signal pulse using comparator is interesting when
  external signal doesn't respect the VIL and VIH levels).

  - COMP2 is configured as following:
     - Inverting input is internally connected to DAC1 output
     - Non Inverting input is connected to PA1
     - Output is internally connected to TIM2 Input Capture 4 (IC4)

  - DAC channel 1 is used as a digital threshold for measurement, DAC1 output
    is internally connected to COMP1 inverting input. 
    DAC1 is configured in 12-bit right alignment. DAC1 output = VREF * DOR / 4095
                                                               = 3.3 * 2000 / 4095
                                                               = 1.61V

    In this example, the pulse of an external signal of around 1.6V 
    (e.g. high level = 1.7V and low level = 1.5V) can be performed.

  - TIM2 counter is clocked by TIM2CLK = 48MHz, TIM2 channel 4 is configured in
    input capture mode.
    TIM2 counter is captured at each transition detection: rising or falling edges
    (each time COMP2 inverting input crosses DAC1 output)

  - External signal should be connected to PA1. 
    Pulse is computed in microsecond then displayed on Color LCD 
    for STM320518-EVAL.
    Pulse duration shouldn't be higher than 65535 * TIM2CLK = 2.047 ms
    Pulse duration shouldn't be lower than TIM2 ISR processing time / TIM2CLK 
                                         ~ 110 (clock cycle) / 48 MHz = 2.3 us
 

	Directory contents 

  - COMP/PulseWidthMeasurement/stm32f0xx_conf.h    Library Configuration file
  - COMP/PulseWidthMeasurement/stm32f0xx_it.c      Interrupt handlers
  - COMP/PulseWidthMeasurement/stm32f0xx_it.h      Interrupt handlers header file
  - COMP/PulseWidthMeasurement/main.c              Main program
  - COMP/PulseWidthMeasurement/system_stm32f0xx.c  STM32F0xx system source file
  
 note The "system_stm32f0xx.c" is generated by an automatic clock configuration 
      tool and can be easily customized to meet user application requirements. 
      To select different clock setup, use the "STM32F0xx_Clock_Configuration_VX.Y.Z.xls" 
      provided with the AN4055 package available on <a href="http://www.st.com/internet/mcu/class/1734.jsp">  ST Microcontrollers </a>
         
	Hardware and Software environment

  - This example runs on STM32F0xx Devices.
  
  - This example has been tested with STMicroelectronics STM320518-EVAL (STM32F0xx)
    evaluation board and can be easily tailored to any other supported device 
    and development board.

  - STM320518-EVAL Set-up
    - Connect an external signal to PA.01 pin.

	How to use it ? 

In order to make the program work, you must do the following :
 - Copy all source files from this example folder to the template folder under
   Project\STM32F0xx_StdPeriph_Templates
 - Open your preferred toolchain 
 - Rebuild all files and load your image into target memory
 - Run the example
	
***********************************************************************************

	COMP2 PWM signal control example

	Example Description 

This example shows how to configure COMP2 peripheral to hold on safe state
(low level) TIM1 channels as soon as COMP2 output is set at high level.

  - COMP2 is configured as following:
     - Inverting input is internally connected to VREFINT = 1.22V
     - Non Inverting input is connected to PA3
     - Output is internally connected to TIM2 BKIN (Break Input)

  - TIM1CLK is set to 48 MHz, the TIM1 Prescaler is equal to 0 so the TIM1 counter
    clock used is 48 MHz.
    TIM1 frequency is defined as follow:
    TIM1 channels frequency = TIM1 counter clock / (Period + 1) 
                            = 48000000 /(100 + 1) 
                            = 475 KHz.

  - External voltage should be connected to PA3 (RV3 potentiometer can be used).

  - Connect an oscilloscope to TIM1 channel PA8 to display waveform. 

  - While PA3 is lower than VREFINT (1.22V), PWM signal is displayed on PA8.
    While PA3 is higher than VREFINT, PA8 is in low level.
 

	Directory contents 

  - COMP/PWMSignalControl/stm32f0xx_conf.h    Library Configuration file
  - COMP/PWMSignalControl/stm32f0xx_it.c      Interrupt handlers
  - COMP/PWMSignalControl/stm32f0xx_it.h      Interrupt handlers header file
  - COMP/PWMSignalControl/main.c              Main program
  - COMP/PWMSignalControl/system_stm32f0xx.c  STM32F0xx system source file
  
 note The "system_stm32f0xx.c" is generated by an automatic clock configuration 
      tool and can be easily customized to meet user application requirements. 
      To select different clock setup, use the "STM32F0xx_Clock_Configuration_VX.Y.Z.xls" 
      provided with the AN4055 package available on <a href="http://www.st.com/internet/mcu/class/1734.jsp">  ST Microcontrollers </a>
         
	Hardware and Software environment

  - This example runs on STM32F0xx Devices.
  
  - This example has been tested with STMicroelectronics STM320518-EVAL (STM32F0xx)
    evaluation board and can be easily tailored to any other supported device 
    and development board.

  - STM320518-EVAL Set-up
    - RV3 Potentiometer connected to PC.01 pin.
    - Connect PA.03 to PC.01 pin using a wire.
    - Connect an oscilloscope to PA.08 pin to display waveform.

	How to use it ? 

In order to make the program work, you must do the following :
 - Copy all source files from this example folder to the template folder under
   Project\STM32F0xx_StdPeriph_Templates
 - Open your preferred toolchain 
 - Rebuild all files and load your image into target memory
 - Run the example	
   </pre>
  </div>
  </body>
</html>

